{"expireTime":9007200909776145000,"key":"transformer-remark-markdown-ast-37654d3ae9c811b0084cf301ac492549-gatsby-remark-prismjs-copy-buttongatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"ðŸ’» PSQLðŸ’»","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":12,"offset":12},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":12,"offset":12},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"source","position":{"start":{"line":4,"column":3,"offset":16},"end":{"line":4,"column":9,"offset":22},"indent":[]}}],"position":{"start":{"line":4,"column":3,"offset":16},"end":{"line":4,"column":9,"offset":22},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":14},"end":{"line":4,"column":9,"offset":22},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Basic Commands","position":{"start":{"line":6,"column":4,"offset":27},"end":{"line":6,"column":18,"offset":41},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":24},"end":{"line":6,"column":18,"offset":41},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Login to postgresql","position":{"start":{"line":8,"column":5,"offset":47},"end":{"line":8,"column":24,"offset":66},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":43},"end":{"line":8,"column":24,"offset":66},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">psql -U postgres\npsql -d mydb -U myuser -W\npsql -h myhost -d mydb -U myuser -W\npsql -U myuser -h myhost &quot;dbname=mydb sslmode=require&quot; # ssl connection</code></pre></div>","position":{"start":{"line":10,"column":1,"offset":68},"end":{"line":15,"column":4,"offset":229},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Default Admin Login","position":{"start":{"line":17,"column":5,"offset":235},"end":{"line":17,"column":24,"offset":254},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":231},"end":{"line":17,"column":24,"offset":254},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">sudo -u postgres psql -U postgres\nsudo -u postgres psql</code></pre></div>","position":{"start":{"line":19,"column":1,"offset":256},"end":{"line":22,"column":4,"offset":326},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"List databases on postgresql server","position":{"start":{"line":24,"column":5,"offset":332},"end":{"line":24,"column":40,"offset":367},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":328},"end":{"line":24,"column":40,"offset":367},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Determine system tables","position":{"start":{"line":26,"column":5,"offset":373},"end":{"line":26,"column":28,"offset":396},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":369},"end":{"line":26,"column":28,"offset":396},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">select * from pg_tables where tableowner = &#39;postgres&#39;;</code></pre></div>","position":{"start":{"line":28,"column":1,"offset":398},"end":{"line":30,"column":4,"offset":467},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"List databases from within a pg shell","position":{"start":{"line":32,"column":5,"offset":473},"end":{"line":32,"column":42,"offset":510},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":469},"end":{"line":32,"column":42,"offset":510},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"List databases from UNIX command prompt","position":{"start":{"line":34,"column":5,"offset":516},"end":{"line":34,"column":44,"offset":555},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":512},"end":{"line":34,"column":44,"offset":555},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Describe a table","position":{"start":{"line":36,"column":5,"offset":561},"end":{"line":36,"column":21,"offset":577},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":557},"end":{"line":36,"column":21,"offset":577},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Quit psql","position":{"start":{"line":38,"column":5,"offset":583},"end":{"line":38,"column":14,"offset":592},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":579},"end":{"line":38,"column":14,"offset":592},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Switch postgres database within admin login shell","position":{"start":{"line":40,"column":5,"offset":598},"end":{"line":40,"column":54,"offset":647},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":594},"end":{"line":40,"column":54,"offset":647},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Reset a user password as admin","position":{"start":{"line":42,"column":5,"offset":653},"end":{"line":42,"column":35,"offset":683},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":649},"end":{"line":42,"column":35,"offset":683},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">alter user usertochange with password &#39;new_passwd&#39;;</code></pre></div>","position":{"start":{"line":44,"column":1,"offset":685},"end":{"line":46,"column":4,"offset":751},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Show all tables","position":{"start":{"line":48,"column":5,"offset":757},"end":{"line":48,"column":20,"offset":772},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":753},"end":{"line":48,"column":20,"offset":772},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"List all Schemas","position":{"start":{"line":50,"column":5,"offset":778},"end":{"line":50,"column":21,"offset":794},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":774},"end":{"line":50,"column":21,"offset":794},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"List all users","position":{"start":{"line":52,"column":5,"offset":800},"end":{"line":52,"column":19,"offset":814},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":796},"end":{"line":52,"column":19,"offset":814},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Load data into postgresql","position":{"start":{"line":54,"column":5,"offset":820},"end":{"line":54,"column":30,"offset":845},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":816},"end":{"line":54,"column":30,"offset":845},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">psql -W -U username -H hostname &lt; file.sql</code></pre></div>","position":{"start":{"line":56,"column":1,"offset":847},"end":{"line":58,"column":4,"offset":904},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Dump (Backup) Data into file","position":{"start":{"line":60,"column":5,"offset":910},"end":{"line":60,"column":33,"offset":938},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":906},"end":{"line":60,"column":33,"offset":938},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">pg_dump -W -U username -h hostname database_name &gt; file.sql</code></pre></div>","position":{"start":{"line":62,"column":1,"offset":940},"end":{"line":64,"column":4,"offset":1014},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Increment a sequence","position":{"start":{"line":66,"column":5,"offset":1020},"end":{"line":66,"column":25,"offset":1040},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":1016},"end":{"line":66,"column":25,"offset":1040},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">SELECT nextval(&#39;my_id_seq&#39;);</code></pre></div>","position":{"start":{"line":68,"column":1,"offset":1042},"end":{"line":70,"column":4,"offset":1085},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create new user","position":{"start":{"line":72,"column":5,"offset":1091},"end":{"line":72,"column":20,"offset":1106},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":1087},"end":{"line":72,"column":20,"offset":1106},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">CREATE USER lemmy WITH PASSWORD &#39;myPassword&#39;;\n# or\n\nsudo -u postgres createuser lemmy -W</code></pre></div>","position":{"start":{"line":74,"column":1,"offset":1108},"end":{"line":79,"column":4,"offset":1211},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Change user password","position":{"start":{"line":81,"column":5,"offset":1217},"end":{"line":81,"column":25,"offset":1237},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":1213},"end":{"line":81,"column":25,"offset":1237},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">ALTER USER Postgres WITH PASSWORD &#39;mypass&#39;;</code></pre></div>","position":{"start":{"line":83,"column":1,"offset":1239},"end":{"line":85,"column":4,"offset":1297},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Grant user createdb privilege","position":{"start":{"line":87,"column":5,"offset":1303},"end":{"line":87,"column":34,"offset":1332},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":1299},"end":{"line":87,"column":34,"offset":1332},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">ALTER USER myuser WITH createdb;</code></pre></div>","position":{"start":{"line":89,"column":1,"offset":1334},"end":{"line":91,"column":4,"offset":1381},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create a superuser user","position":{"start":{"line":93,"column":5,"offset":1387},"end":{"line":93,"column":28,"offset":1410},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":1383},"end":{"line":93,"column":28,"offset":1410},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">create user mysuper with password &#39;1234&#39; SUPERUSER\n# or even better\ncreate user mysuper with password &#39;1234&#39; SUPERUSER CREATEDB CREATEROLE INHERIT LOGIN REPLICATION;\n# or\nsudo -u postgres createuser lemmy -W -s</code></pre></div>","position":{"start":{"line":95,"column":1,"offset":1412},"end":{"line":101,"column":4,"offset":1637},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Upgrade an existing user to superuser","position":{"start":{"line":103,"column":5,"offset":1643},"end":{"line":103,"column":42,"offset":1680},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":1639},"end":{"line":103,"column":42,"offset":1680},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">alter user mysuper with superuser;\n# or even better\nalter user mysuper with SUPERUSER CREATEDB CREATEROLE INHERIT LOGIN REPLICATION</code></pre></div>","position":{"start":{"line":105,"column":1,"offset":1682},"end":{"line":109,"column":4,"offset":1828},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Show Database Version","position":{"start":{"line":111,"column":5,"offset":1834},"end":{"line":111,"column":26,"offset":1855},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":1830},"end":{"line":111,"column":26,"offset":1855},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Change Database Owner","position":{"start":{"line":113,"column":5,"offset":1861},"end":{"line":113,"column":26,"offset":1882},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":1857},"end":{"line":113,"column":26,"offset":1882},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">alter database database_name owner to new_owner;</code></pre></div>","position":{"start":{"line":115,"column":1,"offset":1884},"end":{"line":117,"column":4,"offset":1947},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Copy a database","position":{"start":{"line":119,"column":5,"offset":1953},"end":{"line":119,"column":20,"offset":1968},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":1949},"end":{"line":119,"column":20,"offset":1968},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">CREATE DATABASE newdb WITH TEMPLATE originaldb;</code></pre></div>","position":{"start":{"line":121,"column":1,"offset":1970},"end":{"line":123,"column":4,"offset":2032},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"View Database Connections","position":{"start":{"line":125,"column":5,"offset":2038},"end":{"line":125,"column":30,"offset":2063},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":2034},"end":{"line":125,"column":30,"offset":2063},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">SELECT * FROM pg_stat_activity;</code></pre></div>","position":{"start":{"line":127,"column":1,"offset":2065},"end":{"line":129,"column":4,"offset":2111},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"View show data directory (works on 9.1+)","position":{"start":{"line":131,"column":5,"offset":2117},"end":{"line":131,"column":45,"offset":2157},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":2113},"end":{"line":131,"column":45,"offset":2157},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Show run-time parameters","position":{"start":{"line":133,"column":5,"offset":2163},"end":{"line":133,"column":29,"offset":2187},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":2159},"end":{"line":133,"column":29,"offset":2187},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">show all;\nselect * from pg_settings;</code></pre></div>","position":{"start":{"line":135,"column":1,"offset":2189},"end":{"line":138,"column":4,"offset":2240},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Show the block size setting","position":{"start":{"line":140,"column":5,"offset":2246},"end":{"line":140,"column":32,"offset":2273},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":2242},"end":{"line":140,"column":32,"offset":2273},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\"># show block_size;\n block_size\n------------\n 8192\n(1 row)</code></pre></div>","position":{"start":{"line":142,"column":1,"offset":2275},"end":{"line":148,"column":4,"offset":2347},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Show stored procedure source","position":{"start":{"line":150,"column":5,"offset":2353},"end":{"line":150,"column":33,"offset":2381},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":2349},"end":{"line":150,"column":33,"offset":2381},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">SELECT prosrc FROM pg_proc WHERE proname = &#39;procname&#39;</code></pre></div>","position":{"start":{"line":152,"column":1,"offset":2383},"end":{"line":154,"column":4,"offset":2451},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Grant examples","position":{"start":{"line":156,"column":5,"offset":2457},"end":{"line":156,"column":19,"offset":2471},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":2453},"end":{"line":156,"column":19,"offset":2471},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"># readonly to all tables for myuser\ngrant select on all tables in schema public to myuser;\n# all privileges on table1 and table2 to myuser\ngrant all privileges on table1, table2, table3 to myuser;</code></pre></div>","position":{"start":{"line":158,"column":1,"offset":2473},"end":{"line":163,"column":4,"offset":2680},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Restore Postgres .dump file","position":{"start":{"line":165,"column":5,"offset":2686},"end":{"line":165,"column":32,"offset":2713},"indent":[]}}],"position":{"start":{"line":165,"column":1,"offset":2682},"end":{"line":165,"column":32,"offset":2713},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">pg_restore --verbose --clean --no-acl --no-owner -h localhost -U myuser -d mydb latest.dump</code></pre></div>","position":{"start":{"line":167,"column":1,"offset":2715},"end":{"line":169,"column":4,"offset":2817},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://gist.github.com/kagemusha/1569836","children":[{"type":"text","value":"source","position":{"start":{"line":171,"column":2,"offset":2820},"end":{"line":171,"column":8,"offset":2826},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":2819},"end":{"line":171,"column":52,"offset":2870},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":2819},"end":{"line":171,"column":52,"offset":2870},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Find all active sessions and kill them (i.e. for when needing to drop or rename db)","position":{"start":{"line":173,"column":5,"offset":2876},"end":{"line":173,"column":88,"offset":2959},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":2872},"end":{"line":173,"column":88,"offset":2959},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Source: ","position":{"start":{"line":175,"column":1,"offset":2961},"end":{"line":175,"column":9,"offset":2969},"indent":[]}},{"type":"link","title":null,"url":"http://stackoverflow.com/questions/5408156/how-to-drop-a-postgresql-database-if-there-are-active-connections-to-it","children":[{"type":"text","value":"http://stackoverflow.com/questions/5408156/how-to-drop-a-postgresql-database-if-there-are-active-connections-to-it","position":{"start":{"line":175,"column":10,"offset":2970},"end":{"line":175,"column":124,"offset":3084},"indent":[]}}],"position":{"start":{"line":175,"column":9,"offset":2969},"end":{"line":175,"column":125,"offset":3085},"indent":[]}}],"position":{"start":{"line":175,"column":1,"offset":2961},"end":{"line":175,"column":125,"offset":3085},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"># Postgres 9.6 and above\nSELECT pg_terminate_backend(pg_stat_activity.pid)\nFROM pg_stat_activity\nWHERE pg_stat_activity.datname = &#39;TARGET_DB&#39;\n AND pid &lt;&gt; pg_backend_pid();\n\n# Postgres 9.6 and below\nSELECT pg_terminate_backend(pg_stat_activity.procpid)\nFROM pg_stat_activity\nWHERE pg_stat_activity.datname = &#39;TARGET_DB&#39;\nAND procpid &lt;&gt; pg_backend_pid();</code></pre></div>","position":{"start":{"line":177,"column":1,"offset":3087},"end":{"line":189,"column":4,"offset":3449},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Handy Queries","position":{"start":{"line":191,"column":4,"offset":3454},"end":{"line":191,"column":17,"offset":3467},"indent":[]}}],"position":{"start":{"line":191,"column":1,"offset":3451},"end":{"line":191,"column":17,"offset":3467},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">-- List procedure/function\nSELECT * FROM pg_proc WHERE proname=&#39;__procedurename__&#39;;\n\n-- List view (including the definition)\nSELECT * FROM pg_views WHERE viewname=&#39;__viewname__&#39;;\n\n-- Show DB table space in use\nSELECT pg_size_pretty(pg_total_relation_size(&#39;__table_name__&#39;));:\n\n-- Show DB space in use\nSELECT pg_size_pretty(pg_database_size(&#39;__database_name__&#39;));\n\n-- Show current user&#39;s statement timeout\nshow statement_timeout;\n\n-- Show table indexes\nSELECT * FROM pg_indexes WHERE tablename=&#39;__table_name__&#39; AND schemaname=&#39;__schema_name__&#39;;\n\n-- Get all indexes from all tables of a schema:\nSELECT\n   t.relname AS table_name,\n   i.relname AS index_name,\n   a.attname AS column_name\nFROM\n   pg_class t,\n   pg_class i,\n   pg_index ix,\n   pg_attribute a,\n   pg_namespace n\nWHERE\n   t.oid = ix.indrelid\n   AND i.oid = ix.indexrelid\n   AND a.attrelid = t.oid\n   AND a.attnum = ANY(ix.indkey)\n   AND t.relnamespace = n.oid\n   AND n.nspname = &#39;kartones&#39;\nORDER BY\n   t.relname,\n   i.relname\n\n-- Queries being executed at a certain DB\nSELECT datname, application_name, pid, backend_start, query_start, state_change, state, query\n  FROM pg_stat_activity\n  WHERE datname=&#39;__database_name__&#39;;\n\n-- Get all queries from all dbs waiting for data (might be hung)\nSELECT * FROM pg_stat_activity WHERE waiting=&#39;t&#39;;</code></pre></div>","position":{"start":{"line":193,"column":1,"offset":3469},"end":{"line":241,"column":4,"offset":4778},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Query analysis","position":{"start":{"line":243,"column":5,"offset":4784},"end":{"line":243,"column":19,"offset":4798},"indent":[]}}],"position":{"start":{"line":243,"column":1,"offset":4780},"end":{"line":243,"column":19,"offset":4798},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">-- See the query plan for the given query\nEXPLAIN __query__\n\n-- See and execute the query plan for the given query\nEXPLAIN ANALYZE __query__\n\n-- Collect statistics\nANALYZE [__table__]</code></pre></div>","position":{"start":{"line":245,"column":1,"offset":4800},"end":{"line":254,"column":4,"offset":4998},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Querying Data","position":{"start":{"line":256,"column":4,"offset":5003},"end":{"line":256,"column":17,"offset":5016},"indent":[]}}],"position":{"start":{"line":256,"column":1,"offset":5000},"end":{"line":256,"column":17,"offset":5016},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"From a Single Table","position":{"start":{"line":258,"column":5,"offset":5022},"end":{"line":258,"column":24,"offset":5041},"indent":[]}}],"position":{"start":{"line":258,"column":1,"offset":5018},"end":{"line":258,"column":24,"offset":5041},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"console","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">-- Query data in columns c1, c2 from a table\nSELECT c1, c2 FROM t;\n\n-- Query distinct rows from a table\nSELECT DISTINCT c1\nFROM t\nWHERE condition;\n\n-- Sort the result set in ascending or descending order\nSELECT c1, c2\nFROM t\nORDER BY c1 ASC [DESC];\n\n-- Skip offset of rows and return the next n rows\nSELECT c1, c2\nFROM t\nORDER BY c1\nLIMIT n\nOFFSET offset;\n\n-- Group rows using an aggregate function\nSELECT c1, aggregate(c2)\nFROM t\nGROUP BY c1;\n\n-- Filter groups using HAVING clause\nSELECT c1, aggregate(c2) FROM t\nGROUP BY c1\nHAVING condition;</code></pre></div>","position":{"start":{"line":260,"column":1,"offset":5043},"end":{"line":290,"column":4,"offset":5601},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"From Multiple Tables","position":{"start":{"line":292,"column":5,"offset":5607},"end":{"line":292,"column":25,"offset":5627},"indent":[]}}],"position":{"start":{"line":292,"column":1,"offset":5603},"end":{"line":292,"column":25,"offset":5627},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">-- Inner join t1 and t2\nSELECT c1, c2\nFROM t1\nINNER JOIN t2\nON condition;\n\n-- Left join t1 and t1\nSELECT c1, c2\nFROM t1\nLEFT JOIN t2\nON condition;\n\n-- Right join t1 and t2\nSELECT c1, c2\nFROM t1\nRIGHT JOIN t2\nON condition;\n\n-- Perform full outer join\nSELECT c1, c2\nFROM t1\nFULL OUTER JOIN t2\nON condition;\n\n-- Produce a Cartesian product of rows in tables\nSELECT c1, c2\nFROM t1\nCROSS JOIN t2;\n\n-- Another way to perform cross join\nSELECT c1, c2\nFROM t1, t2;\n\n-- Join t1 to itself using INNER JOIN clause\nSELECT c1, c2\nFROM t1 A\nINNER JOIN t2 B ON condition</code></pre></div>","position":{"start":{"line":294,"column":1,"offset":5629},"end":{"line":332,"column":4,"offset":6195},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using SQL Operators","position":{"start":{"line":334,"column":5,"offset":6201},"end":{"line":334,"column":24,"offset":6220},"indent":[]}}],"position":{"start":{"line":334,"column":1,"offset":6197},"end":{"line":334,"column":24,"offset":6220},"indent":[]}},{"type":"html","value":"\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          "},{"type":"html","lang":"sql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">-- Combine rows from two queries\nSELECT c1, c2 FROM t1\nUNION [ALL]\nSELECT c1, c2 FROM t2;\n\n-- Return the intersection of two queries\nSELECT c1, c2 FROM t1\nINTERSECT\nSELECT c1, c2 FROM t2;\n\n-- Subtract a result set from another result set\nSELECT c1, c2 FROM t1\nEXCEPT\nSELECT c1, c2 FROM t2;\n\n-- Query rows using pattern matching %, _\nSELECT c1, c2 FROM t1\nWHERE c1 [NOT] LIKE pattern;\n\n-- Query rows in a list\nSELECT c1, c2\nFROM t\nWHERE c1\n[NOT] IN value_list;\n\n-- Query rows between two values\nSELECT c1, c2\nFROM t\nWHERE c1\nBETWEEN low AND high;\n\n-- Check if values in a table is NULL or not\nSELECT c1, c2 FROM t\nWHERE c1 IS [NOT] NULL;</code></pre></div>","position":{"start":{"line":336,"column":1,"offset":6222},"end":{"line":371,"column":4,"offset":6869},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Source","position":{"start":{"line":373,"column":4,"offset":6874},"end":{"line":373,"column":10,"offset":6880},"indent":[]}}],"position":{"start":{"line":373,"column":1,"offset":6871},"end":{"line":373,"column":10,"offset":6880},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.postgresql.org/docs/9.6/static/app-psql.html","children":[{"type":"text","value":"PostgreSQL 9.6.0 Documentation","position":{"start":{"line":375,"column":4,"offset":6885},"end":{"line":375,"column":34,"offset":6915},"indent":[]}}],"position":{"start":{"line":375,"column":3,"offset":6884},"end":{"line":375,"column":93,"offset":6974},"indent":[]}}],"position":{"start":{"line":375,"column":3,"offset":6884},"end":{"line":375,"column":93,"offset":6974},"indent":[]}}],"position":{"start":{"line":375,"column":1,"offset":6882},"end":{"line":375,"column":93,"offset":6974},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://pgexercises.com","children":[{"type":"text","value":"PostgreSQL Exercises","position":{"start":{"line":376,"column":4,"offset":6978},"end":{"line":376,"column":24,"offset":6998},"indent":[]}}],"position":{"start":{"line":376,"column":3,"offset":6977},"end":{"line":376,"column":50,"offset":7024},"indent":[]}}],"position":{"start":{"line":376,"column":3,"offset":6977},"end":{"line":376,"column":50,"offset":7024},"indent":[]}}],"position":{"start":{"line":376,"column":1,"offset":6975},"end":{"line":376,"column":50,"offset":7024},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://www.postgresqltutorial.com/postgresql-cheat-sheets","children":[{"type":"text","value":"PostgreSQL Tutorial","position":{"start":{"line":377,"column":4,"offset":7028},"end":{"line":377,"column":23,"offset":7047},"indent":[]}}],"position":{"start":{"line":377,"column":3,"offset":7027},"end":{"line":377,"column":83,"offset":7107},"indent":[]}}],"position":{"start":{"line":377,"column":3,"offset":7027},"end":{"line":377,"column":83,"offset":7107},"indent":[]}}],"position":{"start":{"line":377,"column":1,"offset":7025},"end":{"line":377,"column":83,"offset":7107},"indent":[]}}],"position":{"start":{"line":375,"column":1,"offset":6882},"end":{"line":377,"column":83,"offset":7107},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":378,"column":1,"offset":7108}}}}